<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Json (wcs-lib.Json)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">wcs-lib</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Json</span></h1></header><p>Json utilities.</p><div class="spec val" id="val-read_json_file"><a href="#val-read_json_file" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>read_json_file : (Yojson.lexer_state <span class="keyword">&#8209;&gt;</span> Lexing.lexbuf <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p><code class="code">read_json_file reader fname</code> reads the file <code class="code">fname</code> using the
reader <code class="code">reader</code> generated by atdgen.</p></div></div><div class="spec val" id="val-null"><a href="#val-null" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>null : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p>The <code class="code">null</code> value of JSON.</p></div></div><div class="spec val" id="val-set"><a href="#val-set" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">set o x v</code> add (or replace) the a field <code class="code">x</code> of the object <code class="code">o</code> with
value <code class="code">v</code>.</p></div></div><div class="spec val" id="val-get"><a href="#val-get" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> option</code></div><div class="doc"><p><code class="code">get o x</code> gets the value of the field <code class="code">x</code> of the object <code class="code">o</code>.</p></div></div><div class="spec val" id="val-take"><a href="#val-take" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>take : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a><span class="keyword"> * </span><a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> option</code></div><div class="doc"><p><code class="code">take o x</code> gets the value of the field <code class="code">x</code> of the object <code class="code">o</code> and
remove the field from the object. The left part of the return value
is the modified object and the right part is the value of the
field.</p></div></div><div class="h9">The <code class="code">&quot;skip_user_input&quot;</code> field</div><div class="spec val" id="val-set_skip_user_input"><a href="#val-set_skip_user_input" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_skip_user_input : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> bool <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">set_skip_user_input ctx b</code> set the field <code class="code">&quot;skip_user_input&quot;</code> of
the object <code class="code">ctx</code> with value <code class="code">b</code>.</p></div></div><div class="spec val" id="val-take_skip_user_input"><a href="#val-take_skip_user_input" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>take_skip_user_input : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a><span class="keyword"> * </span>bool</code></div><div class="doc"><p><code class="code">take_skip_user_input ctx</code> take the field <code class="code">&quot;skip_user_input&quot;</code> of
the object <code class="code">ctx</code>. If the field is the defined, it returns <code class="code">false</code>.</p></div></div><div class="h9">The <code class="code">&quot;actions&quot;</code> field</div><div class="spec val" id="val-set_actions"><a href="#val-set_actions" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_actions : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-action">Wcs_t.action</a> list <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">set_actions ctx l</code> set the field <code class="code">&quot;actions&quot;</code> of
the object <code class="code">ctx</code> with the list of actions <code class="code">l</code>.</p></div></div><div class="spec val" id="val-take_actions"><a href="#val-take_actions" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>take_actions : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a><span class="keyword"> * </span><a href="../Wcs_t/index.html#type-action">Wcs_t.action</a> list option</code></div><div class="doc"><p><code class="code">take_actions ctx</code> take the field <code class="code">&quot;actions&quot;</code> of the object
<code class="code">ctx</code>.</p></div></div><div class="spec val" id="val-push_action"><a href="#val-push_action" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>push_action : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-action">Wcs_t.action</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">push_action ctx act</code> add the action <code class="code">act</code> in the list of actions
stored in the field <code class="code">&quot;actions&quot;</code> of ctx. It the field <code class="code">&quot;actions&quot;</code>
doesn't exists, it creates it.</p></div></div><div class="spec val" id="val-pop_action"><a href="#val-pop_action" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pop_action : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a><span class="keyword"> * </span><a href="../Wcs_t/index.html#type-action">Wcs_t.action</a> option</code></div><div class="doc"><p><code class="code">pop_action ctx</code> take an action <code class="code">act</code> in the list of actions
stored in the field <code class="code">&quot;actions&quot;</code> of ctx.</p></div></div><div class="h9">The <code class="code">&quot;continuation&quot;</code> field</div><div class="spec val" id="val-set_continuation"><a href="#val-set_continuation" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_continuation : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-action">Wcs_t.action</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">set_continuation ctx act</code> set the field <code class="code">&quot;continuation&quot;</code> of
the object <code class="code">ctx</code> with the action <code class="code">act</code>.</p></div></div><div class="spec val" id="val-get_continuation"><a href="#val-get_continuation" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_continuation : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-action">Wcs_t.action</a> option</code></div><div class="doc"><p><code class="code">get_continuation ctx</code> get the value of the field <code class="code">&quot;continuation&quot;</code>
of the object <code class="code">ctx</code>.</p></div></div><div class="spec val" id="val-take_continuation"><a href="#val-take_continuation" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>take_continuation : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a><span class="keyword"> * </span><a href="../Wcs_t/index.html#type-action">Wcs_t.action</a> option</code></div><div class="doc"><p><code class="code">take_continuation ctx</code> take the value of the field <code class="code">&quot;continuation&quot;</code>
of the object <code class="code">ctx</code>.</p></div></div><div class="h9">The <code class="code">&quot;return&quot;</code> field</div><div class="spec val" id="val-set_return"><a href="#val-set_return" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_return : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">set_return ctx v</code> set the field <code class="code">&quot;return&quot;</code> of
the object <code class="code">ctx</code> with the value <code class="code">v</code>.</p></div></div><div class="spec val" id="val-get_return"><a href="#val-get_return" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_return : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> option</code></div><div class="doc"><p><code class="code">get_return ctx</code> get the value of the field <code class="code">&quot;return&quot;</code>
of the object <code class="code">ctx</code>.</p></div></div><div class="h9">Boolean fields</div><div class="spec val" id="val-set_bool"><a href="#val-set_bool" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_bool : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> bool <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">set_bool o x b</code> sets the a field <code class="code">x</code> of the object <code class="code">o</code> with value
<code class="code">b</code>.</p></div></div><div class="spec val" id="val-get_bool"><a href="#val-get_bool" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_bool : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> bool option</code></div><div class="doc"><p><code class="code">get_bool o x</code> gets the value of the field <code class="code">x</code> of the object <code class="code">o</code>.</p></div></div><div class="h9">String fields</div><div class="spec val" id="val-set_string"><a href="#val-set_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>set_string : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a></code></div><div class="doc"><p><code class="code">set_string o x x</code> sets the a field <code class="code">x</code> of the object <code class="code">o</code> with string
<code class="code">s</code>.</p></div></div><div class="spec val" id="val-get_string"><a href="#val-get_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>get_string : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string option</code></div><div class="doc"><p><code class="code">get_string o x</code> gets the value of the field <code class="code">x</code> of the object <code class="code">o</code>.</p></div></div><div class="spec val" id="val-take_string"><a href="#val-take_string" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>take_string : <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> <a href="../Wcs_t/index.html#type-json">Wcs_t.json</a><span class="keyword"> * </span>string option</code></div><div class="doc"><p><code class="code">take_string o x</code> takes the value of the field <code class="code">x</code> of the object <code class="code">o</code>.</p></div></div></body></html>